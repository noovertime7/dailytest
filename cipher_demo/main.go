package main

import (
	"crypto/rand"
	"crypto/rsa"
	"crypto/x509"
	"encoding/base64"
	"encoding/pem"
	"fmt"
)

var PrivateKey = `LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRHZ6ZlBXNFlpZnZ5ZVoKR2VWK2cvbEd5ZHVaMkVINjBPakxFQW9BOVZLdFo2Y3gyQWtXK2ZaRnhxSkFGNGZZRnNvMUJ3Ly9LQmg0NFFMWgptRnY0UmtjRERKUFJtamZpOWxBQ0JWWTZMbk5VTTNERzdoVTk5ejdibjVnMEN2NW5MKzNHb21WWVhrUnMvS3FOCkprWkJBai9IQmxLK0JidnE1elBhK1BZc3FqSjEwUktsdVpYUkJCaFhHOURXQWVnRTRNZGU1enAwUEJCa3oxdzkKYUg4MytjZjBqamxQTFJsWUpNNlAyb0tULzNZS0V0b2orRmpqbm5iSXNNeXZPeW9TcXN2UXF3SkFxcWRQSUo1UwpDcThjWEVZclRObTNmbWh2UUx1blVWZ25nY2NkOU1kWHBQUnJ4VFVKaTVyazBrMkxtWS80MXZvb2pLNVlJZXRBClo0cDQzdmtMQWdNQkFBRUNnZ0VBR1lEejMvU1lqVFROUjFFandUTFQvaDFWeDZUaVQ0U01YWnhWRkFrRFJBSDAKSEM3M3VJUFpGMDZxenRveHpsK09IZG1rYitTWnhiRllsai9IK0QyeEs3Zll1TUFJRlpGUXJRWllSMVBOWERVawpWMlBXeW9KVEl4UjBJWVRSemJPaFBERGxTbUtzTUZNbTZHQWJ0S3BDa2k0ditwbXRoS3dXTGNHd25NdDFGbVp6Ck9tVXNWUkg3a01rL1doVzNvb1B3Ny9ZVGhNSW1zZkJoNm1QT3VpRm9IRHRHNnNsWmJ5YTRhdjcrRlQ5eldOWHIKUzNkTmtVZFR6eENtcC9TV1paSWV6UlR3R0wvaXRvdTVtN2owSjVPbkJDYVNxL0lWR1U1UXoydm1ydzl4LzQyagpIZXVzWXhKZGlSQUJuR3N3Tm1xL0x4VXYyNVBuckptUDQ3MTY3VHhYc1FLQmdRRDYwZVBqTDJNVGx0REF2U3crClcvMkJDcFZTYlI4bk1xUXo0U3k1bzVxZGN2Z04rcXk4OHZVbVoxVGFWemZRekRyT3N1OEhDMXBuTzVVL0lIdk4KdzlWZFdjNUxQY0JqRkVWYlltRFAvdTlDVlN1bWhjb3Z6bjN2enlvMHBQa0k4U29Yby9PdjU1TDIxKzdFWnFoawpXejJlY0ZHRlliYU1rRnh0NjBhQVV6bTlEd0tCZ1FEMHdkS294M0szaE5ZS0srVHp4Unh4NUxOVWtVeUlGT1NSCjlzeHhRS0FGTS9iZTdvaEpSeUxrSERQdXYzcHJhM3p6ejQzeVFVY0lWb0w5MmlTU2c0NnRtQUJNYjQ5RnJ1ZE4KaU0xYktseUo1MmhHM0p5LzlhQkVVeGhMNEZXNWI5ODYyTlZBSjY5M1Nwcm5PYjdKVXFEdlZmZ0QvYmZTUjlZUwpzcGNpbFFpOFJRS0JnREd3R053dHpBdmFhYnAwLzJuUElYWkoyWEQ5eXhraDBDT3k3UUJOcDlpZktRTGo4UXB4CmV4MURoU3pIOEhlOXJieTY5OTFHWTM5bDcxZ1ZJRkdRQlJtOEs4RCtGN25KRDBCZVNkMktuRzFnb0FnYUl3YTcKZW5saWFmTUo1NGZjOXNDK0t3MWk2OXRZeGFWRXpRRXNqaFZ3SE1ZMnFFcEtZdlVua2N6a0wrRURBb0dCQU94UApNb0FJU1NjTTFzYnRTRmxmeHkzam5JMGEyQ1JPMzd4WjUxdTFCSXJoZUFvWGpYZ0tlWko1OUY0ZmV5ZTVtT09oClVqQkNmRDE5b1cxTXI2RFI2ZkNLNEVic013MFphSE5Ba056alVvTkc3RFAyamxUNzV1Znd2bldMdTlpVlBaY0kKZ1NRMjdMK2xSVmZZTmU4VW14TlpFbU53RkltdkYrM25oZW82c0R0dEFvR0FTS3Vkam85YUZ3NjZmUk1Wb0YrTQpuM1lsa0Q0MmF4RDRpUHkzcVNpZDVSYXkvbGxvUmNja3VFL2NmNG9lSnY5bVlYMWloRFRKYTgva1Zva0dzNEJ1CkI0MnRQQUFLSW5MK3BVamFnR0grdzFZanBXQnNocDljdDltM3pyb2JiSGhMenpVUVB1Zk5MN0ltOW1Xdyt6UDQKcWl3WlBpME9BV0VHVlpxeTVjM0FpOGc9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0=`

func RsaDecode(strPlainText string) (string, error) {
	plainText, err := base64.StdEncoding.DecodeString(strPlainText)
	bytePrivateKey, err := base64.StdEncoding.DecodeString(PrivateKey)

	priBlock, _ := pem.Decode(bytePrivateKey)
	priKey, err := x509.ParsePKCS8PrivateKey(priBlock.Bytes)
	if err != nil {
		return "", err
	}
	decryptText, err := rsa.DecryptPKCS1v15(rand.Reader, priKey.(*rsa.PrivateKey), plainText)
	if err != nil {
		return "", err
	}
	return string(decryptText), nil
}

//func main() {
//
//	base64CipherText := "FUllglSENosh4eCZG7KPOlwUCGsCorDM9ocr1oWzINj4ERG+tbBkrBXufLxZi9UvsZfbAsvbzoHNoHp1rQJd/bgOMdw3tUQ1GtjNEOLPiPCiAuvGHaEdM8goizBKVqZbP8qs5y8lOOb6DZyGdk9IBFWZfC128s4sFVrR2WHPe9rFVgZATAAL6R1pZPkvR2YSdCQK6PBZTbKN+u7QxG7EPYkmdGPAV9dChMBoJwM3rSYDIsqLYi2DqcXKs8doX1Azzt+m4aBiPVFzsMpis7Jnjt2bT2c/L79dvTgi8FhglfNqhpzAP6WRRc50etaEqSFmu6/0LhV3EZaydxmanqXCsA=="
//	base64PriKey := base64.StdEncoding.EncodeToString([]byte(PrivateKey))
//
//	plaintext, err := rsa.RsaDecryptByBase64(base64CipherText, base64PriKey)
//	if err != nil {
//		fmt.Println(err)
//		return
//	}
//	fmt.Printf("rsa解密后:\n%s\n", string(plaintext))
//}

func main() {
	res, err := RsaDecode("FUllglSENosh4eCZG7KPOlwUCGsCorDM9ocr1oWzINj4ERG+tbBkrBXufLxZi9UvsZfbAsvbzoHNoHp1rQJd/bgOMdw3tUQ1GtjNEOLPiPCiAuvGHaEdM8goizBKVqZbP8qs5y8lOOb6DZyGdk9IBFWZfC128s4sFVrR2WHPe9rFVgZATAAL6R1pZPkvR2YSdCQK6PBZTbKN+u7QxG7EPYkmdGPAV9dChMBoJwM3rSYDIsqLYi2DqcXKs8doX1Azzt+m4aBiPVFzsMpis7Jnjt2bT2c/L79dvTgi8FhglfNqhpzAP6WRRc50etaEqSFmu6/0LhV3EZaydxmanqXCsA==")
	fmt.Println(res, err)
}
